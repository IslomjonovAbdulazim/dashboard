import{r as f,j as e,B as o,c as b}from"./index-CEZAfdmj.js";import{u as v,T as M,M as C}from"./top-nav-oOq6qH8k.js";import{C as t,a as i,b as d,d as a}from"./card-_q6M7tef.js";import{B as P}from"./badge-ByjNK5B2.js";import{C as U,T as p,b as A}from"./analytics-api-DkAclNMm.js";import{P as D,a as k,b as S}from"./popover-h_x33Kuy.js";import{H as T,S as E,T as O,c as L,P as B}from"./config-drawer-Cni1BdTA.js";import{C as y}from"./calendar-CAHJVtQa.js";import{E as F}from"./eye-BYNPDPgZ.js";import{U as H}from"./dropdown-menu-DviSW_3y.js";import{c as R}from"./createLucideIcon-Brq6DW20.js";import{a as _,U as q}from"./user-plus-4mJYt7NA.js";import{f as r}from"./format-Dp3w_Y3x.js";import"./chevron-down-C6FdnxWl.js";import"./zehnly-auth-api-BZYfesZT.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],z=R("crown",I);function K(){const[s,N]=f.useState(new Date),[g,u]=f.useState(!1),h=r(s,"yyyy-MM-dd"),{data:l,isLoading:m,refetch:j}=v({queryKey:["analytics-overview",h],queryFn:()=>A.getOverview(h)}),n=c=>new Intl.NumberFormat("en-US").format(c),w=c=>{c&&(N(c),u(!1))};return e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[e.jsx(M,{links:Q}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(E,{}),e.jsx(O,{}),e.jsx(L,{}),e.jsx(B,{})]})]}),e.jsxs(C,{children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Analytics Overview"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Monitor user engagement and premium subscription metrics"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(D,{open:g,onOpenChange:u,children:[e.jsx(k,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:b("w-[280px] justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),s?r(s,"PPP"):"Pick a date"]})}),e.jsx(S,{className:"w-auto p-0",children:e.jsx(U,{mode:"single",selected:s,onSelect:w,initialFocus:!0})})]}),e.jsx(o,{onClick:()=>j(),variant:"outline",disabled:m,children:m?"Refreshing...":"Refresh"})]})]}),l&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Daily Active Users"}),e.jsx(F,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n(l.data.dau)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Active users on ",r(s,"MMM dd, yyyy")]})]})]}),e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Weekly Active Users"}),e.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n(l.data.wau)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users in the past 7 days"})]})]}),e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Monthly Active Users"}),e.jsx(H,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n(l.data.mau)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users in the past 30 days"})]})]}),e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Total Premium Users"}),e.jsx(z,{className:"h-4 w-4 text-yellow-500"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:n(l.data.premiumUsers)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Premium subscribers as of ",r(s,"MMM dd, yyyy")]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"New Premium Users"}),e.jsx(_,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:n(l.data.dailyNewPremiumUsers)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["New premium subscriptions on ",r(s,"MMM dd, yyyy")]})]})]}),e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Daily New Users"}),e.jsx(q,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:n(l.data.dailyNewUsers)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["New user registrations on ",r(s,"MMM dd, yyyy")]})]})]}),e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Data Date"}),e.jsx(y,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r(s,"MMM dd")}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r(s,"yyyy")," â€¢ ",r(s,"EEEE")]}),e.jsx("div",{className:"mt-2",children:e.jsx(P,{variant:"outline",className:"text-xs",children:l.data.date})})]})]})]})]}),m&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((c,x)=>e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-4 bg-muted animate-pulse rounded"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded mb-2"}),e.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"})]})]},x))}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:3}).map((c,x)=>e.jsxs(t,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-4 bg-muted animate-pulse rounded"})]}),e.jsxs(a,{children:[e.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded mb-2"}),e.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"})]})]},x))})]}),!l&&!m&&e.jsx(t,{children:e.jsxs(a,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(p,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Data Available"}),e.jsxs("p",{className:"text-muted-foreground text-center mb-4",children:["Unable to load analytics data for ",r(s,"PPP")]}),e.jsx(o,{onClick:()=>j(),variant:"outline",children:"Try Again"})]})})]})]})}const Q=[{title:"Overview",href:"/overview",isActive:!0,disabled:!1},{title:"Detailed Analytics",href:"/analytics/detailed",isActive:!1,disabled:!0},{title:"Reports",href:"/analytics/reports",isActive:!1,disabled:!0}],de=K;export{de as component};

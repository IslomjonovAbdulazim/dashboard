import{r as g,j as e,B as x,c as M}from"./index-v7imGIq4.js";import{u as P,T as U,M as A}from"./top-nav-CqeiiLho.js";import{C as a,a as n,b as d,d as r}from"./card-CBIVjDVR.js";import{B as k}from"./badge-8ALo6JXj.js";import{c as f,a as S,C as T,T as w,b as E}from"./analytics-api-5vOi1kIO.js";import{P as O,a as L,b as R}from"./popover-DjsLMIbW.js";import{H as B,S as F,T as H,c as _,P as z}from"./config-drawer-DvUJ7vvN.js";import{C as b}from"./calendar-DtIZN6vt.js";import{C as q,U as I}from"./dropdown-menu-Bi09OOMb.js";import{E as K}from"./eye-CB9ex8AQ.js";import{c as Q}from"./createLucideIcon-Rxx-4gCR.js";import{a as W,U as $}from"./user-plus-dGr6UohI.js";import{f as l}from"./format-Dp3w_Y3x.js";import"./chevron-down-UR5XhGHR.js";import"./zehnly-auth-api-i8-079Y8.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],J=Q("crown",G);function h(s,o,j){return f(s,-o,j)}function V(){const[s,o]=g.useState(new Date),[j,p]=g.useState(!1),y=l(s,"yyyy-MM-dd"),{data:i,isLoading:u,refetch:N}=P({queryKey:["analytics-overview",y],queryFn:()=>E.getOverview(y)}),c=t=>new Intl.NumberFormat("en-US").format(t),v=t=>{t&&(o(t),p(!1))},D=()=>{const t=h(s,1),m=h(new Date,100);t>=m&&o(t)},C=()=>{const t=f(s,1);t<=new Date&&o(t)};return e.jsxs(e.Fragment,{children:[e.jsxs(B,{children:[e.jsx(U,{links:X}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(F,{}),e.jsx(H,{}),e.jsx(_,{}),e.jsx(z,{})]})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Analytics Overview"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Monitor user engagement and premium subscription metrics"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x,{variant:"outline",size:"icon",onClick:D,disabled:h(s,1)<h(new Date,100),children:e.jsx(S,{className:"h-4 w-4"})}),e.jsxs(O,{open:j,onOpenChange:p,children:[e.jsx(L,{asChild:!0,children:e.jsxs(x,{variant:"outline",className:M("w-[280px] justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),s?l(s,"PPP"):"Pick a date"]})}),e.jsx(R,{className:"w-auto p-0",children:e.jsx(T,{mode:"single",selected:s,onSelect:v,defaultMonth:s,initialFocus:!0})})]}),e.jsx(x,{variant:"outline",size:"icon",onClick:C,disabled:f(s,1)>new Date,children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx(x,{onClick:()=>N(),variant:"outline",disabled:u,children:u?"Refreshing...":"Refresh"})]})]}),i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Daily Active Users"}),e.jsx(K,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c(i.data.dau)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Active users on ",l(s,"MMM dd, yyyy")]})]})]}),e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Weekly Active Users"}),e.jsx(w,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c(i.data.wau)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users in the past 7 days"})]})]}),e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Monthly Active Users"}),e.jsx(I,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c(i.data.mau)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users in the past 30 days"})]})]}),e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Total Premium Users"}),e.jsx(J,{className:"h-4 w-4 text-yellow-500"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:c(i.data.premiumUsers)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Premium subscribers as of ",l(s,"MMM dd, yyyy")]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"New Premium Users"}),e.jsx(W,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:c(i.data.dailyNewPremiumUsers)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["New premium subscriptions on ",l(s,"MMM dd, yyyy")]})]})]}),e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Daily New Users"}),e.jsx($,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:c(i.data.dailyNewUsers)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["New user registrations on ",l(s,"MMM dd, yyyy")]})]})]}),e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Data Date"}),e.jsx(b,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:l(s,"MMM dd")}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[l(s,"yyyy")," â€¢ ",l(s,"EEEE")]}),e.jsx("div",{className:"mt-2",children:e.jsx(k,{variant:"outline",className:"text-xs",children:i.data.date})})]})]})]})]}),u&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((t,m)=>e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-4 bg-muted animate-pulse rounded"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded mb-2"}),e.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"})]})]},m))}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:3}).map((t,m)=>e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-4 bg-muted animate-pulse rounded"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded mb-2"}),e.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"})]})]},m))})]}),!i&&!u&&e.jsx(a,{children:e.jsxs(r,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(w,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Data Available"}),e.jsxs("p",{className:"text-muted-foreground text-center mb-4",children:["Unable to load analytics data for ",l(s,"PPP")]}),e.jsx(x,{onClick:()=>N(),variant:"outline",children:"Try Again"})]})})]})]})}const X=[{title:"Overview",href:"/overview",isActive:!0,disabled:!1},{title:"Detailed Analytics",href:"/analytics/detailed",isActive:!1,disabled:!0},{title:"Reports",href:"/analytics/reports",isActive:!1,disabled:!0}],ue=V;export{ue as component};

import{r as h,j as e,B as o,c as b}from"./index-diU2mefH.js";import{u as v,T as C,M}from"./top-nav-D0ONlwpF.js";import{C as r,a as i,b as n,d as l}from"./card-h3RRijJ9.js";import{B as P}from"./badge-DK3_ATYr.js";import{C as A,T as j,b as U}from"./analytics-api-BH_cI28L.js";import{P as D,a as k,b as S}from"./popover-Q4tBHrL9.js";import{H as T,S as E,T as O,C as L,P as B}from"./config-drawer-BGGe_36J.js";import{C as p}from"./calendar-LJ7fplQK.js";import{E as F}from"./eye-DDy3EqID.js";import{U as H}from"./sign-out-dialog-DZ8krDUs.js";import{c as R}from"./createLucideIcon-BmMGLqVZ.js";import{U as _}from"./user-plus-CD1Qs9Me.js";import{f as t}from"./format-Dp3w_Y3x.js";import"./chevron-down-B2N3hRel.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],I=R("crown",q);function z(){const[s,y]=h.useState(new Date),[N,x]=h.useState(!1),u=t(s,"yyyy-MM-dd"),{data:a,isLoading:m,refetch:f}=v({queryKey:["analytics-overview",u],queryFn:()=>U.getOverview(u)}),d=c=>new Intl.NumberFormat("en-US").format(c),g=c=>{c&&(y(c),x(!1))};return e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[e.jsx(C,{links:K}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(E,{}),e.jsx(O,{}),e.jsx(L,{}),e.jsx(B,{})]})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Analytics Overview"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Monitor user engagement and premium subscription metrics"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(D,{open:N,onOpenChange:x,children:[e.jsx(k,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:b("w-[280px] justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),s?t(s,"PPP"):"Pick a date"]})}),e.jsx(S,{className:"w-auto p-0",children:e.jsx(A,{mode:"single",selected:s,onSelect:g,initialFocus:!0})})]}),e.jsx(o,{onClick:()=>f(),variant:"outline",disabled:m,children:m?"Refreshing...":"Refresh"})]})]}),a&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Daily Active Users"}),e.jsx(F,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d(a.data.dau)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Active users on ",t(s,"MMM dd, yyyy")]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Weekly Active Users"}),e.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d(a.data.wau)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users in the past 7 days"})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Monthly Active Users"}),e.jsx(H,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d(a.data.mau)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active users in the past 30 days"})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Total Premium Users"}),e.jsx(I,{className:"h-4 w-4 text-yellow-500"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:d(a.data.premiumUsers)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Premium subscribers as of ",t(s,"MMM dd, yyyy")]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"New Premium Users"}),e.jsx(_,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:d(a.data.dailyNewPremiumUsers)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["New premium subscriptions on ",t(s,"MMM dd, yyyy")]})]})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Data Date"}),e.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t(s,"MMM dd")}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t(s,"yyyy")," â€¢ ",t(s,"EEEE")]}),e.jsx("div",{className:"mt-2",children:e.jsx(P,{variant:"outline",className:"text-xs",children:a.data.date})})]})]})]}),m&&e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((c,w)=>e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 w-24 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-4 w-4 bg-muted animate-pulse rounded"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded mb-2"}),e.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"})]})]},w))}),!a&&!m&&e.jsx(r,{children:e.jsxs(l,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(j,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Data Available"}),e.jsxs("p",{className:"text-muted-foreground text-center mb-4",children:["Unable to load analytics data for ",t(s,"PPP")]}),e.jsx(o,{onClick:()=>f(),variant:"outline",children:"Try Again"})]})})]})]})}const K=[{title:"Overview",href:"/overview",isActive:!0,disabled:!1},{title:"Detailed Analytics",href:"/analytics/detailed",isActive:!1,disabled:!0},{title:"Reports",href:"/analytics/reports",isActive:!1,disabled:!0}],le=z;export{le as component};
